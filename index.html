<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Прихват БК — блок-схема (Mermaid 10+)</title>
<script src="https://cdn.jsdelivr.net/npm/mermaid@10.9.5/dist/mermaid.min.js"></script>
<script>
mermaid.initialize({ startOnLoad: true });
</script>
<style>
body { font-family: Arial, sans-serif; background:#f4f6f9; margin:30px; }
h2 { color:#1f4e79; }
label { font-weight:bold; }
input, select, button { margin:5px 0; padding:6px; width:260px; }
button { background:#1f4e79; color:white; border:none; cursor:pointer; }
#diagram { border:1px solid #ccc; padding:20px; min-height:300px; background:#fff; }
.tooltip {
  position: absolute;
  background: #fff;
  border: 2px solid #333;
  padding: 10px;
  border-radius: 8px;
  box-shadow: 2px 2px 8px rgba(0,0,0,0.2);
  display: none;
  max-width: 300px;
  z-index: 1000;
  white-space: pre-line;
}
</style>
</head>
<body>

<h2>Ликвидация прихвата БК — блок-схема (Mermaid 10+)</h2>

<div>
<label>Тип прихвата</label><br>
<select id="stickType">
  <option value="differential">Дифференциальный</option>
  <option value="mechanical">Механический</option>
  <option value="sloughing">Осыпание / обвал</option>
  <option value="cuttings">Шламовый</option>
</select><br>

<label>Глубина, м</label><br>
<input type="number" id="depth" value="2500"><br>

<label>Плотность раствора, г/см³</label><br>
<input type="number" step="0.01" id="mudDensity" value="1.20"><br>

<label>Вязкость (Марш), с</label><br>
<input type="number" id="mudViscosity" value="45"><br>

<label>Водоотдача, см³</label><br>
<input type="number" id="fluidLoss" value="8"><br>

<label>Тип КНБК</label><br>
<select id="bha">
  <option value="stabilized">Стабилизированная</option>
  <option value="motor">С забойным двигателем</option>
  <option value="pendulum">Маятниковая</option>
</select><br>

<label>Диаметр инструмента, мм</label><br>
<input type="number" id="diameter" value="127"><br>

<button onclick="buildDiagram()">Построить блок-схему</button>
</div>

<hr>
<div id="diagram" class="mermaid"></div>
<div class="tooltip" id="tooltip"></div>

<script>
// ---------
